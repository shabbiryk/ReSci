{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/shabb/Project/Resci/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/shabb/Project/Resci/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\shabb\\\\Project\\\\Resci\\\\components\\\\UDomain.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport UAuth from \"@uauth/js\"; //import { Button } from \"react-bootstrap\"\n\nvar uauth = new UAuth({\n  clientID: \"bbe8f08a-dd77-4a01-b02c-1b30844650b9\",\n  redirectUri: \"http://localhost:3000\"\n});\n\nfunction UDomain() {\n  _s();\n\n  var _useState = useState(),\n      Uauth = _useState[0],\n      setUauth = _useState[1];\n\n  function Connect() {\n    return _Connect.apply(this, arguments);\n  }\n\n  function _Connect() {\n    _Connect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var authorization;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return uauth.loginWithPopup();\n\n            case 3:\n              authorization = _context.sent;\n              setUauth(JSON.parse(JSON.stringify(authorization))[\"idToken\"]); // eslint-disable-next-line no-undef\n\n              _context.next = 7;\n              return authenticate();\n\n            case 7:\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(_context.t0);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 9]]);\n    }));\n    return _Connect.apply(this, arguments);\n  }\n\n  function logOut() {\n    return _logOut.apply(this, arguments);\n  }\n\n  function _logOut() {\n    _logOut = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              uauth.logout();\n              logOut();\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _logOut.apply(this, arguments);\n  }\n\n  function log() {\n    if (Uauth === null || Uauth === undefined) {\n      Connect();\n    } else {\n      logOut();\n    }\n  }\n\n  return __jsx(React.Fragment, null, __jsx(\"button\", {\n    className: \"UDomain\",\n    onClick: log,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, Uauth != null ? Uauth[\"sub\"] : \"Login with UNSD\"));\n}\n\n_s(UDomain, \"Wz8LgpV5tzhVMPBBeMmbwvtFlfU=\");\n\n_c = UDomain;\nexport default UDomain;\n\nvar _c;\n\n$RefreshReg$(_c, \"UDomain\");","map":{"version":3,"sources":["C:/Users/shabb/Project/Resci/components/UDomain.js"],"names":["React","useState","UAuth","uauth","clientID","redirectUri","UDomain","Uauth","setUauth","Connect","loginWithPopup","authorization","JSON","parse","stringify","authenticate","console","error","logOut","logout","log","undefined"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,WAAlB,C,CACA;;AAGA,IAAMC,KAAK,GAAG,IAAID,KAAJ,CAAU;AACpBE,EAAAA,QAAQ,EAAE,sCADU;AAEpBC,EAAAA,WAAW,EAAE;AAFO,CAAV,CAAd;;AAKA,SAASC,OAAT,GAAmB;AAAA;;AAAA,kBACWL,QAAQ,EADnB;AAAA,MACRM,KADQ;AAAA,MACDC,QADC;;AAAA,WAGAC,OAHA;AAAA;AAAA;;AAAA;AAAA,wEAGf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEoCN,KAAK,CAACO,cAAN,EAFpC;;AAAA;AAEcC,cAAAA,aAFd;AAGQH,cAAAA,QAAQ,CAACI,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeH,aAAf,CAAX,EAA0C,SAA1C,CAAD,CAAR,CAHR,CAKQ;;AALR;AAAA,qBAMcI,YAAY,EAN1B;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAQQC,cAAAA,OAAO,CAACC,KAAR;;AARR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAHe;AAAA;AAAA;;AAAA,WAeAC,MAfA;AAAA;AAAA;;AAAA;AAAA,uEAef;AAAA;AAAA;AAAA;AAAA;AACIf,cAAAA,KAAK,CAACgB,MAAN;AACAD,cAAAA,MAAM;;AAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAfe;AAAA;AAAA;;AAoBf,WAASE,GAAT,GAAe;AACX,QAAIb,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAKc,SAAhC,EAA2C;AACvCZ,MAAAA,OAAO;AACV,KAFD,MAEO;AACHS,MAAAA,MAAM;AACT;AACJ;;AAED,SACI,4BACI;AAAQ,IAAA,SAAS,EAAC,SAAlB;AAA4B,IAAA,OAAO,EAAEE,GAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA2Cb,KAAK,IAAI,IAAT,GAAgBA,KAAK,CAAC,KAAD,CAArB,GAA+B,iBAA1E,CADJ,CADJ;AAKH;;GAjCQD,O;;KAAAA,O;AAmCT,eAAeA,OAAf","sourcesContent":["import React, { useState } from \"react\"\nimport UAuth from \"@uauth/js\"\n//import { Button } from \"react-bootstrap\"\n\n\nconst uauth = new UAuth({\n    clientID: \"bbe8f08a-dd77-4a01-b02c-1b30844650b9\",\n    redirectUri: \"http://localhost:3000\",\n})\n\nfunction UDomain() {\n    const [Uauth, setUauth] = useState()\n\n    async function Connect() {\n        try {\n            const authorization = await uauth.loginWithPopup()\n            setUauth(JSON.parse(JSON.stringify(authorization))[\"idToken\"])\n\n            // eslint-disable-next-line no-undef\n            await authenticate()\n        } catch (error) {\n            console.error(error)\n        }\n    }\n\n    async function logOut() {\n        uauth.logout()\n        logOut()\n    }\n\n    function log() {\n        if (Uauth === null || Uauth === undefined) {\n            Connect()\n        } else {\n            logOut()\n        }\n    }\n\n    return (\n        <>\n            <button className=\"UDomain\" onClick={log}>{Uauth != null ? Uauth[\"sub\"] : \"Login with UNSD\"}</button>\n        </>\n    )\n}\n\nexport default UDomain"]},"metadata":{},"sourceType":"module"}